import{A as G,_ as J,T as Q,u as W,j as n,C as pe,a as ge,b as we,c as ye,d as re,D as he,e as xe,i as V,h as ve,P as be,k as je,l as Ce,m as Se,I as K,n as Te,o as Ee,p as ke,g as Me,q as Re,r as _e,s as Ie,t as Le,M as Be,v as $e,w as De}from"./index-0e1d1eb9.js";import{_ as Ae,a as ze,F as He}from"./tslib.es6-9dcf0ba8.js";var Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"};const Oe=Ne,ie=window.React;var qe=function(t,e){return ie.createElement(G,J({},t,{ref:e,icon:Oe}))};const Pe=ie.forwardRef(qe);var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const Ke=Ve,le=window.React;var Ue=function(t,e){return le.createElement(G,J({},t,{ref:e,icon:Ke}))};const Fe=le.forwardRef(Ue);var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};const Ze=Ye,de=window.React;var Ge=function(t,e){return de.createElement(G,J({},t,{ref:e,icon:Ze}))};const Je=de.forwardRef(Ge),We=window.antd.Layout,Xe=window.antd.Space,Qe=window.antd.Tooltip,et=window.antd.Tree,tt=window.antd.Typography,nt=window.antd.theme,ee=window._.map,te=window.React.useEffect,B=window.React.useState,{Sider:ot}=We,{Text:at}=tt,{useToken:st}=nt,ct=a=>{const{data:t}=a,[e,c]=B(JSON.parse(window.localStorage.getItem(Q)||"false")),[o,i]=B([]),[r,s]=B([]),[h,m]=B(!0),[l,f]=B([]),[T,d]=B([]),{token:v}=st(),{t:R}=W(),j=()=>{document.querySelector(`[id="${window.location.hash.slice(1)}"]`)?.scrollIntoView(),document.querySelector(".ant-tree-node-selected")?.scrollIntoView(),f([window.location.hash.slice(1)])};return te(()=>{(async()=>{const b=await we(t);s(b.treeData),i(b.list),d(ee(b.list,"slug"))})(),setTimeout(()=>{j()},500)},[s,i,d]),te(()=>(window.addEventListener("hashchange",j),()=>{window.removeEventListener("hashchange",j)}),[f]),o.length?n.jsxs(ot,{theme:"light",collapsible:!0,reverseArrow:!0,collapsedWidth:0,collapsed:e,onCollapse:w=>{c(w),window.localStorage.setItem(Q,JSON.stringify(w))},width:300,style:{position:"sticky",top:0,zIndex:1,marginLeft:12,height:"100vh",overflowY:"auto",borderRight:e?"none":`1px solid ${v.colorBorderSecondary}`},zeroWidthTriggerStyle:{position:"fixed",top:"calc(50% - 22px)",insetInlineStart:"auto",insetInlineEnd:e?0:300+12/2,width:12,height:44,fontSize:12,border:`1px solid ${v.colorBorderSecondary}`,borderRadius:e?"6px 0 0 6px":6,overflow:"hidden"},trigger:e?n.jsx(pe,{}):n.jsx(ge,{}),children:[n.jsx("div",{style:{padding:"6px 10px 6px 28px",marginBottom:v.paddingContentVertical,background:v.colorBgBase,borderBottom:`1px solid ${v.colorBorderSecondary}`},children:n.jsxs(Xe,{children:[n.jsx(at,{strong:!0,style:{lineHeight:"20px"},children:R("toc")}),n.jsx(Qe,{title:h?"全部折叠":"全部展开",children:n.jsx(Je,{onClick:()=>{d(h?[]:ee(o,"slug")),m(!h)}})})]})}),n.jsx(et,{treeData:r,selectedKeys:l,expandedKeys:T,onSelect:w=>{w[0]&&(window.location.hash=w[0])},onExpand:w=>{d(w)}})]}):null};var rt=function(a){return typeof a=="function"};const it=window.React.useEffect;function lt(a){return rt(a[Symbol.asyncIterator])}function dt(a,t){it(function(){var e=a(),c=!1;function o(){return Ae(this,void 0,void 0,function(){var i;return ze(this,function(r){switch(r.label){case 0:if(!lt(e))return[3,4];r.label=1;case 1:return[4,e.next()];case 2:return i=r.sent(),i.done||c?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,e];case 5:r.sent(),r.label=6;case 6:return[2]}})})}return o(),function(){c=!0}},t)}var ut=function(){var a=document.getSelection();if(!a.rangeCount)return function(){};for(var t=document.activeElement,e=[],c=0;c<a.rangeCount;c++)e.push(a.getRangeAt(c));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return a.removeAllRanges(),function(){a.type==="Caret"&&a.removeAllRanges(),a.rangeCount||e.forEach(function(o){a.addRange(o)}),t&&t.focus()}},mt=ut,ne={"text/plain":"Text","text/html":"Url",default:"Text"},ft="Copy to clipboard: #{key}, Enter";function pt(a){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return a.replace(/#{\s*key\s*}/g,t)}function gt(a,t){var e,c,o,i,r,s,h=!1;t||(t={}),e=t.debug||!1;try{o=mt(),i=document.createRange(),r=document.getSelection(),s=document.createElement("span"),s.textContent=a,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(l){if(l.stopPropagation(),t.format)if(l.preventDefault(),typeof l.clipboardData>"u"){e&&console.warn("unable to use e.clipboardData"),e&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=ne[t.format]||ne.default;window.clipboardData.setData(f,a)}else l.clipboardData.clearData(),l.clipboardData.setData(t.format,a);t.onCopy&&(l.preventDefault(),t.onCopy(l.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),r.addRange(i);var m=document.execCommand("copy");if(!m)throw new Error("copy command was unsuccessful");h=!0}catch(l){e&&console.error("unable to copy using execCommand: ",l),e&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",a),t.onCopy&&t.onCopy(window.clipboardData),h=!0}catch(f){e&&console.error("unable to copy using clipboardData: ",f),e&&console.error("falling back to prompt"),c=pt("message"in t?t.message:ft),window.prompt(c,a)}}finally{r&&(typeof r.removeRange=="function"?r.removeRange(i):r.removeAllRanges()),s&&document.body.removeChild(s),o()}return h}var wt=gt;const ue=ye(wt),yt=()=>n.jsx("svg",{viewBox:"0 0 200 117",style:{width:16},children:n.jsx("path",{fill:"currentColor",d:"M59.688 2.578c-3.438-3.437-8.438-3.437-11.563 0L3.75 48.516c-5 5.937-5 14.062 0 19.062l44.063 45.938c1.562 1.562 4.062 2.5 5.937 2.5s4.063-.938 5.938-2.5c3.437-3.438 3.437-8.438 0-11.563l-42.5-43.437 42.5-44.063c3.437-3.437 3.437-8.437 0-11.875Zm135.937 45.938L151.25 2.578c-3.438-3.437-8.438-3.437-11.563 0-3.125 3.438-3.437 8.438 0 11.563l42.5 44.375-42.5 44.062c-3.437 3.438-3.437 8.438 0 11.563 1.563 1.562 3.438 2.5 5.938 2.5 2.5 0 4.063-.938 5.938-2.5l44.062-45.938c5.625-5.625 5.625-13.75 0-19.687Zm-75.938-45c-4.062-1.563-9.062.937-10.937 5l-34.063 95c-1.562 4.062.938 9.062 5 10.937.938 0 1.563.938 2.5.938 3.438 0 6.563-2.5 7.5-5.938l35-95.937c1.563-4.063-.937-9.063-5-10Z"})}),ht=()=>n.jsx("svg",{viewBox:"0 0 200 117",style:{width:16},children:n.jsx("path",{fill:"currentColor",d:"M59.688 2.578c-3.438-3.437-8.438-3.437-11.563 0L3.75 48.516c-5 5.937-5 14.062 0 19.062l44.063 45.938c1.562 1.562 4.062 2.5 5.937 2.5s4.063-.938 5.938-2.5c3.437-3.438 3.437-8.438 0-11.563l-42.5-43.437 42.5-44.063c3.437-3.437 3.437-8.437 0-11.875Zm135.937 45.938L151.25 2.578c-3.438-3.437-8.438-3.437-11.563 0-3.125 3.438-3.437 8.438 0 11.563l42.5 44.375-42.5 44.062c-3.437 3.438-3.437 8.438 0 11.563 1.563 1.562 3.438 2.5 5.938 2.5 2.5 0 4.063-.938 5.938-2.5l44.062-45.938c5.625-5.625 5.625-13.75 0-19.687Z"})}),L={"playground-container":"_playground-container_qdqya_1","playground-container-open":"_playground-container-open_qdqya_5","playground-container-files":"_playground-container-files_qdqya_5","playground-container-source-code":"_playground-container-source-code_qdqya_6","playground-container-demo":"_playground-container-demo_qdqya_9","playground-container-meta":"_playground-container-meta_qdqya_23","playground-container-actions":"_playground-container-actions_qdqya_23"},U=window.antd.Button,xt=window.antd.ConfigProvider,oe=window.antd.Radio,vt=window.antd.Result,bt=window.antd.Space,jt=window.antd.Spin,Ct=window.antd.Tag,F=window.antd.Tooltip,St=window.antd.message,me=window.antd.theme,Tt=window._.isUndefined,D=window.React.useEffect,Et=window.React.useRef,M=window.React.useState,{defaultAlgorithm:kt,darkAlgorithm:Mt}=me,Rt=window.localStorage.getItem(re)||he,_t=({id:a})=>{const{t}=W(),e=Et(null),[c,o]=M(!0),[i,r]=M(null),[s,h]=M(0),[m,l]=M(!1),[f,T]=M([]),[d,v]=M(0),[R,j]=M(""),[w,b]=St.useMessage();D(()=>{const u=p=>{if(p.data?.type!=="playground")return;const{id:y,eventName:g,initializedTime:C}=p.data;y===a&&(g==="initialized"&&(h(C),o(!1)),g==="error"&&(r(p.data.error),h(C),o(!1)))};return window.addEventListener("message",u,!1),()=>{window.removeEventListener("message",u,!1)}},[]),D(()=>{const{html:u,css:p,cssType:y,js:g}=be.get(a),C=[];g&&C.push({value:"js",label:"js",content:g,icon:K.JavaScript}),p&&C.push({value:y,label:y,content:p,icon:K.Css}),u&&C.push({value:"html",label:"html",content:u,icon:K.Html}),T(C)},[]),D(()=>{const u=je(a);e.current.appendChild(u)},[a]),dt(async()=>{if(!m)return;const{value:u,content:p}=f[d],{default:y}=await Te(()=>import("./core-8a480e17.js"),["assets/core-8a480e17.js","assets/index-0e1d1eb9.js","assets/index-38771d87.css"]);await Ee(y,u);const g=await ke(p,u);j(g)},[m,d]);const{token:E}=me.useToken(),{colorBorderSecondary:k}=E,_=s<500?"success":s<1e3?"warning":"error";return n.jsxs("div",{className:Ce("playground-container",L["playground-container"],{[L["playground-container-open"]]:m}),style:{borderColor:k},children:[n.jsx(jt,{spinning:c,tip:"Loading...",children:n.jsx("div",{className:L["playground-container-demo"],ref:e,style:{display:i?"none":"block"}})}),!c&&i&&n.jsx(vt,{status:"error",title:i.name,children:n.jsx("pre",{style:{margin:0},children:i.message})}),n.jsxs("div",{className:L["playground-container-meta"],children:[n.jsxs("div",{className:L["playground-container-actions"],style:{borderColor:k},children:[n.jsx("div",{className:L["playground-container-files"],children:n.jsx(oe.Group,{value:d,onChange:u=>{v(u.target.value)},children:f.map((u,p)=>{const{label:y,icon:g}=u;return n.jsxs(oe.Button,{value:p,children:[g,y]},p)})})}),n.jsxs(bt,{children:[!!s&&n.jsx(Ct,{color:_,style:{marginRight:0,marginBottom:5},children:[s,"ms"].join(" ")}),n.jsx(F,{title:t("fullscreen"),children:n.jsx(U,{type:"text",icon:n.jsx(He,{}),onClick:()=>{e.current.requestFullscreen()}})}),m&&n.jsx(F,{title:"复制代码",children:n.jsx(U,{type:"text",icon:n.jsx(Fe,{}),onClick:()=>{ue(f[d].content),w.success(t("copied"))}})}),n.jsx(F,{title:t(m?"collapse_code":"expand_code"),children:n.jsx(U,{type:"text",icon:m?n.jsx(ht,{}):n.jsx(yt,{}),onClick:()=>{l(!m)}})})]})]}),n.jsx("div",{className:L["playground-container-source-code"],style:{borderColor:k},children:n.jsx("div",{dangerouslySetInnerHTML:{__html:R}})})]}),b]})},It=({id:a})=>{const[t,e]=M(Rt),[c,o]=M(),i=r=>{e(r),r!==Se.SYSTEM&&o(V(r))};return D(()=>{xe(()=>{o(V(t))})},[o]),D(()=>{o(V(t))},[o]),D(()=>(ve.on(re,i),()=>{}),[e,o]),Tt(c)?null:n.jsx(xt,{theme:{algorithm:c?Mt:kt},children:n.jsx(_t,{id:a},c)})};/**
 * filesize
 *
 * @copyright 2022 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 8.0.7
 */const Lt=/^(b|B)$/,ae={iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},Bt={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},$t={floor:Math.floor,ceil:Math.ceil};function Z(a,t={}){let e=[],c=0,o,i,r,s,h,m,l,f,T,d,v,R,j,w,b,E,k,_,u,p,y;if(isNaN(a))throw new TypeError("Invalid number");if(r=t.bits===!0,b=t.unix===!0,R=t.pad===!0,i=t.base||10,j=t.round!==void 0?t.round:b?1:2,l=t.locale!==void 0?t.locale:"",f=t.localeOptions||{},E=t.separator!==void 0?t.separator:"",k=t.spacer!==void 0?t.spacer:b?"":" ",u=t.symbols||{},_=i===2?t.standard||"iec":"jedec",v=t.output||"string",h=t.fullform===!0,m=t.fullforms instanceof Array?t.fullforms:[],o=t.exponent!==void 0?t.exponent:-1,p=$t[t.roundingMethod]||Math.round,d=Number(a),T=d<0,s=i>2?1e3:1024,y=isNaN(t.precision)===!1?parseInt(t.precision,10):0,T&&(d=-d),(o===-1||isNaN(o))&&(o=Math.floor(Math.log(d)/Math.log(s)),o<0&&(o=0)),o>8&&(y>0&&(y+=8-o),o=8),v==="exponent")return o;if(d===0)e[0]=0,w=e[1]=b?"":ae[_][r?"bits":"bytes"][o];else{c=d/(i===2?Math.pow(2,o*10):Math.pow(1e3,o)),r&&(c=c*8,c>=s&&o<8&&(c=c/s,o++));const g=Math.pow(10,o>0?j:0);e[0]=p(c*g)/g,e[0]===s&&o<8&&t.exponent===void 0&&(e[0]=1,o++),w=e[1]=i===10&&o===1?r?"kbit":"kB":ae[_][r?"bits":"bytes"][o],b&&(e[1]=e[1].charAt(0),Lt.test(e[1])&&(e[0]=Math.floor(e[0]),e[1]=""))}if(T&&(e[0]=-e[0]),y>0&&(e[0]=e[0].toPrecision(y)),e[1]=u[e[1]]||e[1],l===!0?e[0]=e[0].toLocaleString():l.length>0?e[0]=e[0].toLocaleString(l,f):E.length>0&&(e[0]=e[0].toString().replace(".",E)),R&&Number.isInteger(e[0])===!1&&j>0){const g=E||".",C=e[0].toString().split(g),A=C[1]||"",x=A.length,S=j-x;e[0]=`${C[0]}${g}${A.padEnd(x+S,"0")}`}return h&&(e[1]=m[o]?m[o]:Bt[_][o]+(r?"bit":"byte")+(e[0]===1?"":"s")),v==="array"?e:v==="object"?{value:e[0],symbol:e[1],exponent:o,unit:w}:e.join(k)}Z.partial=a=>t=>Z(t,a);const Dt=window.antd.Button,At=window.antd.Card,zt=window.antd.Divider,se=window.antd.Image,fe=window.antd.Layout,Ht=window.antd.Modal,Nt=window.antd.Result,ce=window.antd.Space,Ot=window.antd.Tag,qt=window.antd.Typography,Pt=window.antd.message,Vt=window.antd.theme,Kt=window.dayjs,Ut=window._.find,Ft=window._.map,O=window.React.useEffect,$=window.React.useState,{useToken:Yt}=Vt,{Text:q}=qt,{Content:Zt}=fe,Gt=a=>Z(a||0,{base:2,standard:"jedec"}),Y=a=>Kt(a).format("YYYY-MM-DD HH:mm:ss"),Xt=a=>{const{data:t}=a,[e,c]=$(""),[o,i]=$(""),[r,s]=$(!1),[h,m]=Pt.useMessage(),[l,f]=Me(),[T,d]=$(!1),[v,R]=$([]),[j,w]=$(0),{t:b}=W(),{token:E}=Yt(),k=t[l],_=async()=>{const x=await Ie(`article/${[l,f].join("/")}.md`),S=await Le(x),z=(await Be(S)).render(x);i(z),c(x),$e(),setTimeout(()=>{R([...document.querySelectorAll(".markdown-body img")].map(H=>H.src))},1),setTimeout(()=>{[...document.querySelectorAll(".playground-coordinate")].forEach(N=>{const{id:X}=N.dataset,P=document.createElement("div");P.id=X,N.insertAdjacentElement("afterend",P),De(P).render(n.jsx(It,{id:X}))})},100)},u=x=>{const{target:S}=x;let I;if(!S.closest(".markdown-body .playground-container")&&(S.classList.contains("anticon-copy")&&(I=S),S.closest(".markdown-body .anticon-copy")&&(I=S.closest(".markdown-body .anticon-copy")),I)){const z=decodeURIComponent(I.dataset.code);ue(z),h.success(b("copied"))}},p=x=>{const{tagName:S,src:I,parentNode:z}=x.target;if(S==="IMG"){if(z.tagName==="A")return;const H=[...document.querySelectorAll(".markdown-body img")].map(N=>N.src).indexOf(I);w(H),d(!0)}};if(O(()=>{Re(E.colorPrimary==="#1668dc")},[E.colorPrimary]),O(()=>{_e(),_()},[i,c]),O(()=>(document.body.addEventListener("click",u),()=>{document.body.removeEventListener("click",u)}),[]),O(()=>(document.body.addEventListener("click",p),()=>{document.body.removeEventListener("click",p)}),[]),!Ft(k,"name").includes(f))return n.jsx(Nt,{status:"404",title:"404",subTitle:b("page_not_found")});const{title:y,size:g,ctime:C,mtime:A}=Ut(k,{name:f});return n.jsxs(fe,{children:[n.jsxs(Zt,{children:[n.jsx(At,{title:y,extra:n.jsxs(ce,{children:[n.jsx(q,{type:"secondary",italic:!0,children:Y(A)}),n.jsx(Dt,{icon:n.jsx(Pe,{}),onClick:()=>{s(!0)}})]}),loading:!e,children:n.jsx("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:o}})}),n.jsx(Ht,{title:n.jsxs(ce,{split:n.jsx(zt,{type:"vertical"}),children:[n.jsx(q,{children:"Markdown 源码"}),n.jsx(q,{type:"secondary",italic:!0,children:Y(C)}),n.jsx(q,{type:"secondary",italic:!0,children:Y(A)}),n.jsx(Ot,{color:"cyan",children:Gt(g)})]}),open:r,onCancel:()=>{s(!1)},maskClosable:!0,width:"90%",style:{top:20},bodyStyle:{maxHeight:"calc(100vh - 110px)",overflowY:"auto"},footer:null,children:n.jsx("pre",{className:"markdown-source",contentEditable:"true",children:e})}),n.jsx("div",{style:{display:"none"},children:n.jsx(se.PreviewGroup,{preview:{visible:T,current:j,onVisibleChange:x=>d(x)},children:v.map(x=>n.jsx(se,{src:x},x))})}),m]}),!!e&&n.jsx(ct,{data:e})]})};export{Xt as default};
